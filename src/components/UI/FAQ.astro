---
import type { SanityDocument } from "@sanity/client";
import { loadQuery } from "@sanity/lib/load-query";

import PortableText from "@components/Sanity/PortableText.astro";

const { data: faqs } = await loadQuery<SanityDocument[]>({
  query: `*[_type == "faq"] | order(order asc) {
    question,
    answerText,
    order
  }`,
});
---

<div>
  {
    faqs.map((faq: any) => (
      <details name="faq">
        <summary>
          {faq.question} <div />
        </summary>
        <PortableText portableText={faq.answerText} />
      </details>
    ))
  }
</div>
